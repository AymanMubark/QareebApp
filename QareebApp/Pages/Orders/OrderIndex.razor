@page "/orders"
@inject IOrderService orderService

    <h3>Order</h3>
    <div class="card mt-4">
        <h4 class="card-header">You're logged in with Blazor WebAssembly & JWT!!</h4>
        <div class="card-body">
            <h6>Users from secure api end point</h6>
            @if (loading)
            {
                <div class="spinner-border spinner-border-sm"></div>
            }
            @if (orders != null)
            {
                <ul>
                    @foreach (var order in orders)
                    {
                        <li>@order.Id</li>
                    }
                </ul>
            }
        </div>
    </div>

    @code {
        private bool loading;
        private IEnumerable<OrderResponse> orders;

        protected override async Task OnInitializedAsync()
        {
            loading = true;
            orders = await orderService.GetOrders();
            loading = false;
        }
    }